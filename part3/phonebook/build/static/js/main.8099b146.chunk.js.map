{"version":3,"sources":["request.js","PersonForm.js","NumberBook.js","index.js"],"names":["basicUrl","axios","get","then","res","data","changedObj","post","id","delete","person","put","PersonForm","persons","setPersons","setErrorMessage","setExtraClass","useState","newName","setNewName","newPhoneNumber","setNewPhoneNumber","onSubmit","e","preventDefault","alert","personCheckIndex","findIndex","a","name","PersonRequest","number","jsonStr","JSON","stringify","target","parse","newPerson","concat","setTimeout","catch","err","console","log","response","error","value","onChange","type","NumberBook","map","onClick","window","confirm","filter","p","onDeletePerson","Notification","message","extraClass","className","Filter","filterValue","setFilterValue","newFilterValue","App","errorMessage","useEffect","toLowerCase","includes","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8099b146.chunk.js","sourcesContent":["\nimport axios from 'axios';\nconst basicUrl = '/api'\n\nconst getAllPersons = () => axios.get(`${basicUrl}/persons`).then(res => res.data);\nconst createPerson = ( changedObj ) => {\n  const request = axios.post(`${basicUrl}/persons`, changedObj);\n  return request.then(res => res.data);\n}\nconst deletePerson = (id) => {\n  return axios.delete(`${basicUrl}/persons/${id}`);\n}\nconst updatePerson = (id, person) => {\n  return axios.put(`${basicUrl}/persons/${id}`, person).then(res => res.data);\n}\n\n\nexport default { \n  getAllPersons, \n  createPerson,\n  deletePerson,\n  updatePerson\n}","import React, { useState } from 'react'\nimport PersonRequest from './request';\n\nconst PersonForm = ({ persons, setPersons, setErrorMessage, setExtraClass }) => {\n  const [ newName, setNewName ] = useState('')\n  const [ newPhoneNumber, setNewPhoneNumber] = useState('');\n\n  const onNameChange = e =>{\n    e.preventDefault(); \n    setNewName(e.target.value)\n  }\n  const onPhoneChange = e =>{\n    e.preventDefault(); \n    setNewPhoneNumber(e.target.value)\n  }\n  const submitAction = ( e ) => {\n    e.preventDefault(); \n    if(!newName ) return alert('Please input name');\n    if(!newPhoneNumber ) return alert('Please input phone number  ');\n    const personCheckIndex = persons.findIndex( a => a.name === newName)\n    if( personCheckIndex !== -1 ){\n      PersonRequest\n        .updatePerson(persons[personCheckIndex].id, { ...persons[personCheckIndex], number: newPhoneNumber})\n        .then((res)=> {\n          const jsonStr = JSON.stringify(persons);\n          const target = JSON.parse(jsonStr);\n          target[personCheckIndex] = res;\n          setPersons(target);\n          setNewName('');\n          setNewPhoneNumber('');\n        });\n    }else {\n      PersonRequest.createPerson({ name: newName, number: newPhoneNumber })\n      .then((newPerson)=> {\n        setPersons(persons.concat(newPerson));\n        setNewName('');\n        setNewPhoneNumber('');\n        setExtraClass('success');\n        setErrorMessage(`Added ${newPerson.name}`);\n        setTimeout(()=>{\n          setErrorMessage(null);\n          setExtraClass('');\n        }, 5000);\n      })\n      .catch(err => {\n        console.log('err: ', err.response);\n        setErrorMessage(err.response.data.error);\n        setTimeout(()=>{\n          setErrorMessage(null);\n        }, 5000);\n      });\n    }\n  }\n  return (\n    <form onSubmit={submitAction}>\n      <div> name: <input value={ newName } onChange={ onNameChange } /></div>\n      <div>number: <input value={ newPhoneNumber } onChange={ onPhoneChange } /></div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm;\n","import React from 'react'\nimport PersonRequest from './request';\n\n\nconst NumberBook = ({ persons, setPersons, setErrorMessage }) => {\n  const onDeletePerson = (person) => {\n    if(window.confirm(`Delete ${person.name} ?`)){\n      PersonRequest\n        .deletePerson(person.id)\n        .then(()=>{\n          setPersons(persons.filter(p => p.id !== person.id));\n        })\n        .catch((res)=>{\n          setErrorMessage(`Imformation of ${person.name} is already been removed from server`);\n          setTimeout(()=>{\n            setErrorMessage(null);\n          }, 5000);\n        });\n    }\n  }\n\n  return persons.map(person=> \n    (\n      <div key={person.name}>\n        <span>{ person.name } </span>  \n        <span>{ person.number } </span>  \n        <button onClick={()=> onDeletePerson(person)}>delete</button>\n      </div>\n    )\n  );\n}\n\nexport default NumberBook;","import React, { useEffect, useState } from 'react'\nimport ReactDOM from 'react-dom'\nimport PersonRequest from './request';\nimport PersonForm from './PersonForm';\nimport NumberBook from './NumberBook';\nimport './index.css';\n\nconst Notification = ({ message, extraClass }) => {\n  if (message === null || !message) {\n    return null\n  }\n\n  return (\n    <div className={`basic ${extraClass}`}>\n      {message}\n    </div>\n  )\n}\n\nconst Filter = ({ filterValue, setFilterValue }) => {\n  const onFilterChange = e => {\n    e.preventDefault(); \n    const newFilterValue = e.target.value;\n    setFilterValue(newFilterValue);\n  }\n\n  return (\n    <div>\n      <span>filter shown with</span> \n      <input value={ filterValue } onChange={ onFilterChange } />\n    </div>\n  )\n};\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [ filterValue , setFilterValue ] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n  const [extraClass, setExtraClass] = useState('');\n  useEffect(()=> {\n      PersonRequest.getAllPersons().then( persons => {\n        setPersons(persons);\n      });\n  }, []);\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} extraClass={extraClass} />\n      <Filter filterValue={ filterValue } setFilterValue= {setFilterValue}/>\n      <h2>Add a new</h2>\n      <PersonForm  persons={persons}  setPersons={setPersons}  setErrorMessage={setErrorMessage} setExtraClass={setExtraClass}/>\n      <h2>Numbers</h2>\n      <NumberBook persons = { persons.filter( p => p.name.toLowerCase().includes(filterValue)) } setPersons={setPersons} setErrorMessage={setErrorMessage}/>\n    </div>\n  )\n}\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}